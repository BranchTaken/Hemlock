[||] 0: append -> [|0|], prepend -> [|0|]
[|0|] 1: append -> [|0; 1|], prepend -> [|1; 0|]
[|0; 1|] 2: append -> [|0; 1; 2|], prepend -> [|2; 0; 1|]
[|0; 1; 2|] 3: append -> [|0; 1; 2; 3|], prepend -> [|3; 0; 1; 2|]
